docker compose up -d

docker exec jenkins cat /var/jenkins_home/secrets/initialAdminPassword


script file

pipeline {
    agent any

    stages {
        stage('Prepare workspace') {
            steps {
                script {
                    // Option A: remove only the site directory (cross-platform)
                    if (isUnix()) {
                        sh 'rm -rf site || true'
                        sh 'mkdir -p site/assets'
                    } else {
                        // windows
                        bat 'if exist site rmdir /s /q site'
                        bat 'mkdir site\\assets'
                    }

                    // Option B: to clean entire workspace uncomment:
                    // cleanWs()   // requires Workspace Cleanup plugin
                    // or: deleteDir()
                }
            }
        }

        stage('Generate site') {
            steps {
                script {
                    writeFile file: 'site/index.html', text: """
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Karunya University — Simple Site</title>
    <link rel="stylesheet" href="assets/style.css"/>
</head>
<body>
    <header class="site-header">
        <div class="container">
            <h1>Karunya University</h1>
            <p class="tagline">Values — Knowledge — Service</p>
        </div>
    </header>
    <main class="container">
        <section class="card">
            <h2>About Karunya University</h2>
            <p>Karunya Institute of Technology and Sciences is a leading
            centre for higher education in India.</p>
        </section>
    </main>
    <footer class="site-footer container">
        <p>&copy; ${new Date().format('yyyy')} Karunya University —
        Generated by Jenkins</p>
    </footer>
</body>
</html>
"""

                    writeFile file: 'site/assets/style.css', text: """
body { font-family: Arial, sans-serif; margin:0; }
.container { max-width:800px; margin:0 auto; padding:20px; }
.site-header { background:#0b3d91; color:#fff; padding:20px; }
.tagline { font-size:14px; opacity:0.8; }
.card { background:#fff; border:1px solid #ddd; padding:15px; margin:15px 0; border-radius:6px; }
.site-footer { text-align:center; font-size:12px; color:#555; margin-top:20px; }
"""
                }
            }
        }

        stage('Publish site') {
            steps {
                // publishHTML expects the HTML Publisher plugin to be installed
                publishHTML ([
                    allowMissing: false,
                    alwaysLinkToLastBuild: true,
                    keepAll: true,
                    reportDir: 'site',
                    reportFiles: 'index.html',
                    reportName: 'Karunya University - Simple Site'
                ])
            }
        }
    }

    post {
        always {
            // archive the generated site
            archiveArtifacts artifacts: 'site/**', fingerprint: true
        }
    }
}
